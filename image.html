<!DOCTYPE html>
<html>
  <head>
    <title>Image Generation AI Website</title>
  </head>
  <body>
    <h1>Image Generation AI</h1>
    <form id="form">
      <label for="prompt">Prompt:</label>
      <input type="text" id="prompt">
      <input type="submit" value="Generate">
    </form>

    <div id="result"></div>

    <script>
      const form = document.getElementById('form');

      form.addEventListener('submit', (event) => {
        event.preventDefault();

        const prompt = document.getElementById('prompt').value;

        const requestBody = {
          prompt: {
            text: prompt,
          },
        };

        fetch(
          'https://generativelanguage.googleapis.com/v1beta2/models/text-bison-001:generateImage?key={{API_KEY}}',
          {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(requestBody),
          }
        )
        .then((res) => res.json())
        .then((data) => {
          const result = data.candidates[0].output;
          const imageUrl = result.image_uri;

          const resultElement = document.getElementById('result');
          resultElement.innerHTML = `<img src="${imageUrl}" alt="Generated image">`;
        })
        .catch((error) => {
          console.error('Error querying API: ', error);
          alert('Sorry, there was an issue generating your image. Please try again.');
        });
      });
    </script>
  </body>
</html>
